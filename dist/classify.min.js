(function(){var h=(typeof window!=='undefined'&&window)||(typeof exports!=='undefined'&&exports)||this,d=h,g=null,k=false,m=function(a){var b=function(){if(!k&&this.initialize!==undefined){this.initialize.apply(this,arguments)}};if(a){k=true;b.prototype=new a();for(var c in a){if(!n(c)){h.def(b,c,a[c])}}k=false}b.superclass=a;b.constructor=b;return b},i=function(a,b){if(a===undefined||b===undefined){return}var c=d;d=a;if(typeof b==='function'){b.call(a)}else{for(var e in b){h.def(e,b[e])}}d=c},o=function(f,j){var l=g!==null&&g.superclass!==undefined&&g.superclass.prototype;if(l&&typeof j==='function'&&typeof l[f]==='function'&&p(j)){return function(){var b=arguments,c=this.callSuper;this.callSuper=function(){var a=(arguments.length>0)?arguments:b;return l[f].apply(this,a)};var e=j.apply(this,b);this.callSuper=c;return e}}return j},p=function(a){return(/\bcallSuper\b/).test(a.toString())},n=function(a){return(/\b(prototype|superclass|constructor)\b/).test(a)};h.classify=function(a,b,c){var e,f;if(c===undefined){f=a;c=b}else{e=a;f=b}if(d[f]===undefined){d[f]=m(e)}g=d[f];i(g.prototype,c);g=null;return d[f]};h.def=function(a,b,c){var e,f;if(c===undefined){e=d;f=a;c=b}else{e=a;f=b}c=o(f,c);e[f]=c;return e[f]};h.module=function(a,b){if(d[a]===undefined){d[a]={}}i(d[a],b);return b};h.include=function(a,b){var c,e;if(b===undefined){b=a;c=(g)?g.prototype:d}else{e=a;c=d[e];if(c.prototype){c=c.prototype}}i(c,b)};h.extend=function(a,b){var c;if(b===undefined){if(g!==null){b=a;c=g}}else if(typeof a==='string'){c=d[a]}else{c=a}i(c,b)};h.alias=function(a,b){d[a]=d[b]}})();