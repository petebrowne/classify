(function(){var e=(typeof window!=='undefined'&&window)||this;var d=e;var g=null;var k=false;var m=function(b,a){var c=function(){if(!k&&typeof this.initialize!=='undefined'){this.initialize.apply(this,arguments)}};if(a!=null){k=true;c.prototype=new a();for(var f in a){if(typeof a[f]==='function'){e.def(c,f,a[f])}}k=false}c.superclass=a;c.prototype.constructor=c;e.def(c.prototype,'toString',function(){return'[object '+this.constructor.toString()+']'});l(d,c,b);return c};var n=function(b){var a={};l(d,a,b);return a};var l=function(a,c,f){e.def(c,'toString',function(b){if(a==null||a===e||b===false){return f}else{return a.toString()+'.'+f}})};var j=function(b,a,c){if(a==null||c==null){return}var f=g;var h=d;g=b;d=a;if(typeof c==='function'){c.call(a)}else{for(var i in c){e.def(i,c[i])}}g=f;d=h};var o=function(h,i){if(typeof i==='function'&&typeof h==='function'&&p(h)){return function(){var a=arguments;var c=this.callSuper;this.callSuper=function(){var b=(arguments.length>0)?arguments:a;return i.apply(this,b)};var f=h.apply(this,a);this.callSuper=c;return f}}return h};var p=function(b){return(/\bcallSuper\b/).test(b.toString())};e.def=function(b,a,c){if(typeof c==='undefined'){c=a;a=b;b=g||d}b[a]=o(c,b[a]);return b[a]};e.classify=function(b,a,c){if(typeof c==='undefined'){c=a;a=b;b=null}if(typeof a==='string'){if(typeof d[a]==='undefined'){d[a]=m(a,b)}a=d[a]}j(a.prototype,a,c);return a};e.module=function(b,a){if(typeof b==='string'){if(typeof d[b]==='undefined'){d[b]=n(b)}b=d[b]}j(null,b,a);return b};e.include=function(b,a){if(typeof a==='undefined'){a=b;b=g||d}else if(typeof b==='string'){b=d[b]}j(g,b,a)};e.extend=function(b,a){if(typeof a==='undefined'){a=b;b=d}else if(typeof b==='string'){b=d[b]}j(null,b,a)};e.alias=function(b,a){var c=g||d;c[b]=c[a]}})();