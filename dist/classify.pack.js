(function(o,g){var j=o,d=o,f=null,l=false;j.classify=function(a,b,c){var e,i,h;if(c===g){h=a;c=b}else{e=a;h=b}if(!d[h]||typeof d[h]!=="function"){d[h]=q(e)}r(d[h],function(){m(f.prototype,function(){c.call(f)})})};j.def=function(a,b,c){var e,i;if(c===g){e=d;i=a;c=b}else{e=a;i=b}c=s(i,c);e[i]=c};j.module=function(a,b){if(d[a]===g){d[a]={}}m(d[a],function(){b.call(d)})};j.include=function(a,b){var c,e;if(b===g){b=a;c=(f)?f.prototype:d}else{e=a;c=d[e];if(c.prototype){c=c.prototype}}p(c,b)};j.extend=function(a,b){var c,e;if(b===g){if(f!==null){b=a;c=f}}else{e=a;c=d[e]}p(c,b)};j.alias=function(a,b){d[a]=d[b]};var m=function(a,b){var c=d;d=a;b.call();d=c},r=function(a,b){f=a;b.call();f=null},q=function(a){var b=function(){if(!l&&this.initialize!==g){this.initialize.apply(this,arguments)}}if(a){l=true;b.prototype=new a();l=false}b.superclass=a;b.constructor=b;return b},p=function(a,b){if(a===g||b===g){return}if(typeof b==="function"){m(a,function(){b.call(a)})}else{for(var c in b){a[c]=b[c]}}},s=function(h,k){var n=f!==null&&f.superclass!==g&&f.superclass.prototype;if(n&&typeof k==="function"&&typeof n[h]==="function"&&t(k)){return function(){var c=arguments,e=this.callSuper;this.callSuper=function(){for(var a=0,b=arguments.length;a<b;a++){c[a]=arguments[a]}return n[h].apply(this,c)}var i=k.apply(this,arguments);this.callSuper=e;return i}}return k},t=function(a){return/\bcallSuper\b/.test(a.toString())}})(window);